<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Banbot: Db Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>Db Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="Db" -->
<p>sqlite3 database interaction class  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="db_8h_source.html">src/db.h</a>&gt;</code></p>

<p><a href="class_db-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_db_1_1id_motive_struct.html">idMotiveStruct</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_db_1_1id_nick_motive_author_struct.html">idNickMotiveAuthorStruct</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_db_1_1id_nick_struct.html">idNickStruct</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#ac4cdd4fe7ce71c90bf0c843cfd2b73f3">Db</a> (<a class="el" href="class_config_loader_1_1_options.html">ConfigLoader::Options</a> *conf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#a5dfbecdbc8b03a8395e066da8fe698d9">~Db</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#a4df86459c7833e80a465c8fd9be9ea2c">openDatabase</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#a6bc14e1fe8d3650e3233e2628001e1f8">closeDatabase</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#a4e1a8b5e74c238ac03ffa480a9d655f3">checkAuthGuid</a> (const string &amp;guid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#a8ba1c4556529873ac6def96304c41b7e">checkBanGuid</a> (const string &amp;guid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#a5e9ad97ead2e5e1e7b3c15b2ae020c76">checkBanNick</a> (const string &amp;nick)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#a09e8b754785aa21b7eb6c58e908d6c59">isOpTableEmpty</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#af1d9c52deb07fb3c2a12be9cc5b85b83">dumpAdminsToFile</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#a210fa119977d3f26a4d87275abd76fb8">dumpBannedToFile</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#a8ad5e835ec9728a2103f04434799498c">dumpDatabases</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#afc3dec33c43032e2002f26b7a0396921">ban</a> (const string &amp;nick, const string &amp;ip, const string &amp;date, const string &amp;time, const string &amp;guid, const string &amp;motive, const string &amp;adminGuid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#ab743ec70a2e618e29f68efae1ca1690f">insertNewBanned</a> (const string &amp;nick, const string &amp;ip, const string &amp;date, const string &amp;time, const string &amp;motive, string adminNick)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#a5ca223e005e7f215e8a554450cc4114a">modifyBanned</a> (const string &amp;nick, const string &amp;ip, const string &amp;date, const string &amp;time, const string &amp;motive, const string &amp;id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#a8a93b166b2a900c1ee9e7273464e8217">deleteBanned</a> (const string &amp;id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#addfac0834d040949a8244ac0db26ffe1">insertNewGuid</a> (const string &amp;guid, const string &amp;banId)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#a671ae72799227d9c519e8c3c8aa880e0">modifyGuid</a> (const string &amp;guid, const string &amp;banId, const string &amp;id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#a5a00674bd7668258eba41f67d54985e7">deleteGuid</a> (const string &amp;id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#ac71fad8e18bfcbb2d9d4677705871993">addOp</a> (const string &amp;nick, const string &amp;guid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#a187097657b9e5e93746dd0e70defb408">modifyOp</a> (const string &amp;nick, const string &amp;guid, const string &amp;id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#ab2b3952627f56b685a231bb193cd4b15">deleteOp</a> (const string &amp;id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="struct_db_1_1id_motive_struct.html">idMotiveStruct</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#a006fbbb6e0effda9244ec3686af8303d">idMotiveViaGuid</a> (const string &amp;guid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="struct_db_1_1id_motive_struct.html">idMotiveStruct</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#ac3cf9665aa87da644f88501a387a311b">idMotiveViaIp</a> (const string &amp;ip)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="struct_db_1_1id_motive_struct.html">idMotiveStruct</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#a6e0c00ac7c40876546d431a2898f386b">idMotiveViaNick</a> (const string &amp;nick)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#a1ffb585d576026c71c1330fac0e47b62">autoBanned</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#aa8d531451d40abe8df07df362f66d5c1">banned</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#a59621119e12ef6662c1991da4b605ecd">ops</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="struct_db_1_1id_nick_motive_author_struct.html">idNickMotiveAuthorStruct</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#a763e54a6135a7d48f64b5d7a0e6b8904">findAproxIdMotiveAuthorViaNickBanned</a> (const string &amp;nick)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="struct_db_1_1id_nick_motive_author_struct.html">idNickMotiveAuthorStruct</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#ab86ed4e818aeb037188f269ae27a3224">findPreciseIdMotiveAuthorViaNickBanned</a> (const string &amp;nick)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="struct_db_1_1id_nick_struct.html">idNickStruct</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#a1d2e4679fb5ed49f149e0003d4867d45">findAproxIdNickViaNickOp</a> (const string &amp;nick)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="struct_db_1_1id_nick_struct.html">idNickStruct</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_db.html#a3b20942e41dc3bf1dd6f0dc82fcd7904">findPreciseIdNickViaNickOp</a> (const string &amp;nick)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>sqlite3 database interaction class </p>
<p>Class used by <a class="el" href="class_analyzer.html">Analyzer</a> for interaction with sqlite3 database where the bot stores it's information <br/>
 useful to keep track of banned players and admins that have power over it </p>
<dl class="author"><dt><b>Author:</b></dt><dd>n3m3s1s </dd></dl>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac4cdd4fe7ce71c90bf0c843cfd2b73f3"></a><!-- doxytag: member="Db::Db" ref="ac4cdd4fe7ce71c90bf0c843cfd2b73f3" args="(ConfigLoader::Options *conf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Db::Db </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_config_loader_1_1_options.html">ConfigLoader::Options</a> *&nbsp;</td>
          <td class="paramname"> <em>conf</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor for <a class="el" href="class_db.html" title="sqlite3 database interaction class">Db</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conf</em>&nbsp;</td><td>pointer to object with configuration info for servers and bot configuration( ALL INFO STORED HERE )</td></tr>
  </table>
  </dd>
</dl>
<p>Checks for existing database and uses it updating it's records with new information ( if there is new info )<br/>
 If the database is not found, the class creates it populating it with the info passed </p>

</div>
</div>
<a class="anchor" id="a5dfbecdbc8b03a8395e066da8fe698d9"></a><!-- doxytag: member="Db::~Db" ref="a5dfbecdbc8b03a8395e066da8fe698d9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Db::~Db </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destructor for class <a class="el" href="class_db.html" title="sqlite3 database interaction class">Db</a> </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac71fad8e18bfcbb2d9d4677705871993"></a><!-- doxytag: member="Db::addOp" ref="ac71fad8e18bfcbb2d9d4677705871993" args="(const string &amp;nick, const string &amp;guid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Db::addOp </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>nick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>guid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>add's op with given "nick" and "guid" </p>

</div>
</div>
<a class="anchor" id="a1ffb585d576026c71c1330fac0e47b62"></a><!-- doxytag: member="Db::autoBanned" ref="a1ffb585d576026c71c1330fac0e47b62" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string Db::autoBanned </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>returns how many users have been autobanned by the bot </p>

</div>
</div>
<a class="anchor" id="afc3dec33c43032e2002f26b7a0396921"></a><!-- doxytag: member="Db::ban" ref="afc3dec33c43032e2002f26b7a0396921" args="(const string &amp;nick, const string &amp;ip, const string &amp;date, const string &amp;time, const string &amp;guid, const string &amp;motive, const string &amp;adminGuid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Db::ban </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>nick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>date</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>guid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>motive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>adminGuid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nick</em>&nbsp;</td><td>nick of the player used in game </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ip</em>&nbsp;</td><td>the players ip </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>date</em>&nbsp;</td><td>date the player gets banned </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>time</em>&nbsp;</td><td>timestamp of when the player gets banned </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>guid</em>&nbsp;</td><td>player's game guid </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>motive</em>&nbsp;</td><td>motive why the player got banned </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>adminGuid</em>&nbsp;</td><td>guid of the admin that applied the ban</td></tr>
  </table>
  </dd>
</dl>
<p>bans player with given info. ALL variables MUST be given otherwise it'll end up in a FAIL </p>

</div>
</div>
<a class="anchor" id="aa8d531451d40abe8df07df362f66d5c1"></a><!-- doxytag: member="Db::banned" ref="aa8d531451d40abe8df07df362f66d5c1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string Db::banned </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>returns how many have been banned normally by admins </p>

</div>
</div>
<a class="anchor" id="a4e1a8b5e74c238ac03ffa480a9d655f3"></a><!-- doxytag: member="Db::checkAuthGuid" ref="a4e1a8b5e74c238ac03ffa480a9d655f3" args="(const string &amp;guid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Db::checkAuthGuid </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>guid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>checks for the existance of "guid" in the oplist table </p>

</div>
</div>
<a class="anchor" id="a8ba1c4556529873ac6def96304c41b7e"></a><!-- doxytag: member="Db::checkBanGuid" ref="a8ba1c4556529873ac6def96304c41b7e" args="(const string &amp;guid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Db::checkBanGuid </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>guid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>checks if "guid" is present amongst the banned users </p>

</div>
</div>
<a class="anchor" id="a5e9ad97ead2e5e1e7b3c15b2ae020c76"></a><!-- doxytag: member="Db::checkBanNick" ref="a5e9ad97ead2e5e1e7b3c15b2ae020c76" args="(const string &amp;nick)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Db::checkBanNick </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>nick</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>checks if "nick" is present amongst the banned users </p>

</div>
</div>
<a class="anchor" id="a6bc14e1fe8d3650e3233e2628001e1f8"></a><!-- doxytag: member="Db::closeDatabase" ref="a6bc14e1fe8d3650e3233e2628001e1f8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Db::closeDatabase </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>closes database connection </p>

</div>
</div>
<a class="anchor" id="a8a93b166b2a900c1ee9e7273464e8217"></a><!-- doxytag: member="Db::deleteBanned" ref="a8a93b166b2a900c1ee9e7273464e8217" args="(const string &amp;id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Db::deleteBanned </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>deletes records for banned player with given "id" </p>

</div>
</div>
<a class="anchor" id="a5a00674bd7668258eba41f67d54985e7"></a><!-- doxytag: member="Db::deleteGuid" ref="a5a00674bd7668258eba41f67d54985e7" args="(const string &amp;id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Db::deleteGuid </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>deletes records for guid with given "id" </p>

</div>
</div>
<a class="anchor" id="ab2b3952627f56b685a231bb193cd4b15"></a><!-- doxytag: member="Db::deleteOp" ref="ab2b3952627f56b685a231bb193cd4b15" args="(const string &amp;id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Db::deleteOp </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>deletes records for op with given "id" </p>

</div>
</div>
<a class="anchor" id="af1d9c52deb07fb3c2a12be9cc5b85b83"></a><!-- doxytag: member="Db::dumpAdminsToFile" ref="af1d9c52deb07fb3c2a12be9cc5b85b83" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Db::dumpAdminsToFile </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>dumps admins to file ( backup/Adminlist.backup ) </p>

</div>
</div>
<a class="anchor" id="a210fa119977d3f26a4d87275abd76fb8"></a><!-- doxytag: member="Db::dumpBannedToFile" ref="a210fa119977d3f26a4d87275abd76fb8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Db::dumpBannedToFile </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>dumps banned users to file ( backup/Banlist.backup ) </p>

</div>
</div>
<a class="anchor" id="a8ad5e835ec9728a2103f04434799498c"></a><!-- doxytag: member="Db::dumpDatabases" ref="a8ad5e835ec9728a2103f04434799498c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Db::dumpDatabases </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>dumps database creating a copy </p>

</div>
</div>
<a class="anchor" id="a763e54a6135a7d48f64b5d7a0e6b8904"></a><!-- doxytag: member="Db::findAproxIdMotiveAuthorViaNickBanned" ref="a763e54a6135a7d48f64b5d7a0e6b8904" args="(const string &amp;nick)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; <a class="el" href="struct_db_1_1id_nick_motive_author_struct.html">Db::idNickMotiveAuthorStruct</a> &gt; Db::findAproxIdMotiveAuthorViaNickBanned </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>nick</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>returns idNickMotiveAuthor struct after aprox find query ( BANNED TABLE ) </p>

</div>
</div>
<a class="anchor" id="a1d2e4679fb5ed49f149e0003d4867d45"></a><!-- doxytag: member="Db::findAproxIdNickViaNickOp" ref="a1d2e4679fb5ed49f149e0003d4867d45" args="(const string &amp;nick)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; <a class="el" href="struct_db_1_1id_nick_struct.html">Db::idNickStruct</a> &gt; Db::findAproxIdNickViaNickOp </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>nick</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>returns idNick struct after aprox find query ( OPLIST TABLE ) </p>

</div>
</div>
<a class="anchor" id="ab86ed4e818aeb037188f269ae27a3224"></a><!-- doxytag: member="Db::findPreciseIdMotiveAuthorViaNickBanned" ref="ab86ed4e818aeb037188f269ae27a3224" args="(const string &amp;nick)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; <a class="el" href="struct_db_1_1id_nick_motive_author_struct.html">Db::idNickMotiveAuthorStruct</a> &gt; Db::findPreciseIdMotiveAuthorViaNickBanned </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>nick</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>returns idNickMotiveAuthor struct after precise find query ( BANNED TABLE ) </p>

</div>
</div>
<a class="anchor" id="a3b20942e41dc3bf1dd6f0dc82fcd7904"></a><!-- doxytag: member="Db::findPreciseIdNickViaNickOp" ref="a3b20942e41dc3bf1dd6f0dc82fcd7904" args="(const string &amp;nick)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; <a class="el" href="struct_db_1_1id_nick_struct.html">Db::idNickStruct</a> &gt; Db::findPreciseIdNickViaNickOp </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>nick</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>returns idNick struct after precise find query ( OPLIST TABLE ) </p>

</div>
</div>
<a class="anchor" id="a006fbbb6e0effda9244ec3686af8303d"></a><!-- doxytag: member="Db::idMotiveViaGuid" ref="a006fbbb6e0effda9244ec3686af8303d" args="(const string &amp;guid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; <a class="el" href="struct_db_1_1id_motive_struct.html">Db::idMotiveStruct</a> &gt; Db::idMotiveViaGuid </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>guid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>returns id, motive, date and time of a ban by looking up the guid </p>

</div>
</div>
<a class="anchor" id="ac3cf9665aa87da644f88501a387a311b"></a><!-- doxytag: member="Db::idMotiveViaIp" ref="ac3cf9665aa87da644f88501a387a311b" args="(const string &amp;ip)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; <a class="el" href="struct_db_1_1id_motive_struct.html">Db::idMotiveStruct</a> &gt; Db::idMotiveViaIp </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>ip</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>returns id, motive, date and time of a ban by looking up the ip </p>

</div>
</div>
<a class="anchor" id="a6e0c00ac7c40876546d431a2898f386b"></a><!-- doxytag: member="Db::idMotiveViaNick" ref="a6e0c00ac7c40876546d431a2898f386b" args="(const string &amp;nick)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; <a class="el" href="struct_db_1_1id_motive_struct.html">Db::idMotiveStruct</a> &gt; Db::idMotiveViaNick </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>nick</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>returns id, motive, date and time of a ban by looking up the nick </p>

</div>
</div>
<a class="anchor" id="ab743ec70a2e618e29f68efae1ca1690f"></a><!-- doxytag: member="Db::insertNewBanned" ref="ab743ec70a2e618e29f68efae1ca1690f" args="(const string &amp;nick, const string &amp;ip, const string &amp;date, const string &amp;time, const string &amp;motive, string adminNick)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string Db::insertNewBanned </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>nick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>date</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>motive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>adminNick</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>insert banned player info into "banned" table </p>

</div>
</div>
<a class="anchor" id="addfac0834d040949a8244ac0db26ffe1"></a><!-- doxytag: member="Db::insertNewGuid" ref="addfac0834d040949a8244ac0db26ffe1" args="(const string &amp;guid, const string &amp;banId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string Db::insertNewGuid </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>guid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>banId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>inserts guid with specified "banId" to records </p>

</div>
</div>
<a class="anchor" id="a09e8b754785aa21b7eb6c58e908d6c59"></a><!-- doxytag: member="Db::isOpTableEmpty" ref="a09e8b754785aa21b7eb6c58e908d6c59" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Db::isOpTableEmpty </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>checks if oplist table is empty ( returns true ) else returns false </p>

</div>
</div>
<a class="anchor" id="a5ca223e005e7f215e8a554450cc4114a"></a><!-- doxytag: member="Db::modifyBanned" ref="a5ca223e005e7f215e8a554450cc4114a" args="(const string &amp;nick, const string &amp;ip, const string &amp;date, const string &amp;time, const string &amp;motive, const string &amp;id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Db::modifyBanned </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>nick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>date</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>motive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>modify info for banned player with id = "id" </p>

</div>
</div>
<a class="anchor" id="a671ae72799227d9c519e8c3c8aa880e0"></a><!-- doxytag: member="Db::modifyGuid" ref="a671ae72799227d9c519e8c3c8aa880e0" args="(const string &amp;guid, const string &amp;banId, const string &amp;id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Db::modifyGuid </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>guid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>banId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>modifies guid with given "guid" where banId and "id" find a match </p>

</div>
</div>
<a class="anchor" id="a187097657b9e5e93746dd0e70defb408"></a><!-- doxytag: member="Db::modifyOp" ref="a187097657b9e5e93746dd0e70defb408" args="(const string &amp;nick, const string &amp;guid, const string &amp;id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Db::modifyOp </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>nick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>guid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>modifies op's "nick" and/or "guid" where "id" finds a match </p>

</div>
</div>
<a class="anchor" id="a4df86459c7833e80a465c8fd9be9ea2c"></a><!-- doxytag: member="Db::openDatabase" ref="a4df86459c7833e80a465c8fd9be9ea2c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Db::openDatabase </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>opens a connection with the sqlite3 database. true if connection succeded else returns false for failiure </p>

</div>
</div>
<a class="anchor" id="a59621119e12ef6662c1991da4b605ecd"></a><!-- doxytag: member="Db::ops" ref="a59621119e12ef6662c1991da4b605ecd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string Db::ops </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>returns how many ops are registered to the bot </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="db_8h_source.html">db.h</a></li>
<li>src/db.cpp</li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Aug 16 2010 13:34:07 for Banbot by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
